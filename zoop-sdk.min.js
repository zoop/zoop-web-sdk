(()=>{const o=Object.freeze({POPUP:"POPUP",TAB:"TAB"});!function(){var e={zoopGateWayModel:{display:"none",position:"fixed","z-index":1,left:0,top:0,width:"100%",height:"100%",overflow:"auto","background-color":"rgba(0, 0, 0, 0.4)"},zoopModelContent:{"border-radius":"10px","background-color":"#fefefe","margin-top":"50px","margin-bottom":"auto","margin-left":"auto","margin-right":"auto",padding:" -1px",width:"700px",height:"675px"},iframe:{"border-radius":"inherit",margin:"0px",padding:"0px",border:"none"}},t={options:{staging:"https://preprod.aadhaarapi.com",production:"https://prod.aadhaarapi.com",bsaURL:"https://bsa.aadhaarapi.com",itdURL:"https://itd.zoop.one",itdProdURL:"https://itd.zoop.one",itdStagingURL:"https://itd-staging.zoop.one",url:"https://prod.aadhaarapi.com",zoopModel:window.document.getElementById("zoop-gateway-model"),zoopWindow:null},styles:e,esignGatewayOptions:{gateway_url:"",transaction_id:"",company_display_name:"",color_bg:"0FACF3",color_ft:"FFFFFF",logo_url:"",otp_mode:"y",fp_mode:"y",ir_mode:"y",phone_auth:"null",draggable_sign:"y",google_sign:"null",customer_email:"",customer_phone:"",mode:"POPUP"},creditScoreOptions:{company_display_name:"",property:"",color_bg:"0FACF3",color_ft:"FFFFFF",logo_url:"",otp_mode:"",fp_mode:"",ir_mode:"",phone_auth:"",draggable_sign:"",google_sign:"",full_name:"",address_line:"",state:"",postal:"",dob:"",pan_number:"",customer_phone:"",customer_email:""},digiLockerOptions:{company_display_name:"",color_bg:"0FACF3",color_ft:"FFFFFF",logo_url:""},offlineAadhaarOptions:{company_display_name:"",color_bg:"0FACF3",color_ft:"FFFFFF",logo_url:"",otp_mode:"",fp_mode:"",ir_mode:"",phone_auth:"",draggable_sign:"",google_sign:"",full_name:"",address_line:"",customer_phone:"",customer_email:""},incomeTaxReturnsOptions:{txt_color:"202020",bg_color:"f5f5f5",btn_color:"0075f3",btn_txt_color:"ffffff",platform:"web",sdk_version:"2",logo_url:""},check:function(o,e){return!!o.hasOwnProperty(e)&&(!!t.isNullUndefinedOrEmpty(o[e])||"undefined"!==e&&null!==e&&0!==e.length)},onError:function(){},onSuccess:function(){},isNullUndefinedOrEmpty:function(o){return null==o||0===o.length},setEnvironment:function(o){switch(o){case"production":t.options.url=t.options.production,t.options.itdURL=t.options.itdProdURL;break;case"staging":t.options.url=t.options.staging,t.options.itdURL=t.options.itdStagingURL}},setStyles:function(o,e,t){let i;if("class"==t){const e=document.getElementByClass(o);i=e&&e.style}else if("id"==t){const e=document.getElementById(o);i=e&&e.style}else i=document.getElementsByTagName(o);if(i&&Object.keys(e).length)for(var n in e)i[n]=e[n]},eSignGatewayInit:function(e){if(t.isNullUndefinedOrEmpty(e.company_display_name))throw new Error("Customer display name is mandatory to initiate gateway.");return t.esignGatewayOptions.company_display_name=e.company_display_name,t.esignGatewayOptions.color_bg=t.check(e,"color_bg")?e.color_bg:t.esignGatewayOptions.color_bg,t.esignGatewayOptions.color_ft=t.check(e,"color_ft")?e.color_ft:t.esignGatewayOptions.color_ft,t.esignGatewayOptions.logo_url=t.check(e,"logo_url")?e.logo_url:t.esignGatewayOptions.logo_url,t.esignGatewayOptions.otp_mode=t.check(e,"otp_mode")?e.otp_mode:t.esignGatewayOptions.otp_mode,t.esignGatewayOptions.fp_mode=t.check(e,"fp_mode")?e.fp_mode:t.esignGatewayOptions.fp_mode,t.esignGatewayOptions.ir_mode=t.check(e,"ir_mode")?e.ir_mode:t.esignGatewayOptions.ir_mode,t.esignGatewayOptions.phone_auth=t.check(e,"phone_auth")?e.phone_auth:t.esignGatewayOptions.phone_auth,t.esignGatewayOptions.draggable_sign=t.check(e,"draggable_sign")?e.draggable_sign:t.esignGatewayOptions.draggable_sign,t.esignGatewayOptions.google_sign=t.check(e,"google_sign")?e.google_sign:t.esignGatewayOptions.google_sign,t.esignGatewayOptions.customer_email=t.check(e,"customer_email")?e.customer_email:t.esignGatewayOptions.customer_email,t.esignGatewayOptions.customer_phone=t.check(e,"customer_phone")?e.customer_phone:t.esignGatewayOptions.customer_phone,e?.mode?.toUpperCase()===o.TAB?t.esignGatewayOptions.mode=o.TAB:t.esignGatewayOptions.mode=o.POPUP,t.options.zoopModel=window.document.getElementById("zoop-gateway-model"),!0},eSignGateway:function(e,i="v3"){if(t.isNullUndefinedOrEmpty(e))throw new Error("Gateway Transaction Id is mandatory to initiate gateway.");if(t.esignGatewayOptions.transaction_id=e,t.isNullUndefinedOrEmpty(t.esignGatewayOptions.company_display_name))throw new Error("Company Display Name is mandatory in gateway options.");switch(i){case"v2":t.esignGatewayOptions.gateway_url=t.options.url+"/gateway/auth/esign";break;default:t.esignGatewayOptions.gateway_url=t.options.url+"/esign/gateway/v3"}let n=t.esignGatewayOptions.gateway_url+"/"+t.esignGatewayOptions.transaction_id+"?company_display_name="+t.esignGatewayOptions.company_display_name+"&color_bg="+t.esignGatewayOptions.color_bg+"&color_ft="+t.esignGatewayOptions.color_ft+"&otp_mode="+t.esignGatewayOptions.otp_mode+"&fp_mode="+t.esignGatewayOptions.fp_mode+"&ir_mode="+t.esignGatewayOptions.ir_mode+"&phone_auth="+t.esignGatewayOptions.phone_auth+"&draggable_sign="+t.esignGatewayOptions.draggable_sign+"&google_sign="+t.esignGatewayOptions.google_sign+"&can_select_device="+t.esignGatewayOptions.device_selection_allowed+"&phone="+t.esignGatewayOptions.customer_phone+"&logo_url="+t.esignGatewayOptions.logo_url;t.esignGatewayOptions.mode===o.TAB?null==t.options.zoopWindow||t.options.zoopWindow.closed?t.options.zoopWindow=window.open(encodeURI(n),"_blank"):t.options.zoopWindow.focus():t.esignGatewayOptions.mode===o.POPUP&&(window.document.getElementById("zoop-model-content").innerHTML='<iframe id="zoop-gateway-iframe" height="100%" width="100%" src="'+encodeURI(n)+'"></iframe>',t.options.zoopModel.style.display="block")},creditScoreGatewayInit:function(o){if(t.isNullUndefinedOrEmpty(o.company_display_name))throw new Error("Customer display anme is mandatory to initiate gateway.");return t.creditScoreOptions.company_display_name=o.company_display_name,t.creditScoreOptions.color_bg=t.check(o,"color_bg")?o.color_bg:t.creditScoreOptions.color_bg,t.creditScoreOptions.color_ft=t.check(o,"color_ft")?o.color_ft:t.creditScoreOptions.color_ft,t.creditScoreOptions.logo_url=t.check(o,"logo_url")?o.logo_url:t.creditScoreOptions.logo_url,t.creditScoreOptions.otp_mode=t.check(o,"otp_mode")?o.otp_mode:t.creditScoreOptions.otp_mode,t.creditScoreOptions.fp_mode=t.check(o,"fp_mode")?o.fp_mode:t.creditScoreOptions.fp_mode,t.creditScoreOptions.ir_mode=t.check(o,"ir_mode")?o.ir_mode:t.creditScoreOptions.ir_mode,t.creditScoreOptions.phone_auth=t.check(o,"phone_auth")?o.phone_auth:t.creditScoreOptions.phone_auth,t.creditScoreOptions.draggable_sign=t.check(o,"draggable_sign")?o.draggable_sign:t.creditScoreOptions.draggable_sign,t.creditScoreOptions.google_sign=t.check(o,"google_sign")?o.google_sign:t.creditScoreOptions.google_sign,t.creditScoreOptions.property=t.check(o,"property")?o.property:t.creditScoreOptions.property,t.creditScoreOptions.full_name=t.check(o,"full_name")?o.full_name:t.creditScoreOptions.full_name,t.creditScoreOptions.state=t.check(o,"state")?o.state:t.creditScoreOptions.state,t.creditScoreOptions.postal=t.check(o,"postal")?o.postal:t.creditScoreOptions.postal,t.creditScoreOptions.dob=t.check(o,"dob")?o.dob:t.creditScoreOptions.dob,t.creditScoreOptions.pan_number=t.check(o,"pan_number")?o.pan_number:t.creditScoreOptions.pan_number,t.creditScoreOptions.customer_phone=t.check(o,"customer_phone")?o.customer_phone:t.creditScoreOptions.customer_phone,t.creditScoreOptions.customer_email=t.check(o,"customer_email")?o.customer_email:t.creditScoreOptions.customer_email,t.options.zoopModel=window.document.getElementById("zoop-gateway-model"),!0},creditScoreGateway:function(o){if(t.isNullUndefinedOrEmpty(o))throw new Error("Gateway Transaction Id is mandatory to initiate gateway.");if(t.creditScoreOptions.transaction_id=o,t.isNullUndefinedOrEmpty(t.creditScoreOptions.company_display_name))throw new Error("Company Display Name is mandatory in gateway options.");t.creditScoreOptions.gateway_url=t.options.url+"/gateway/creditscore";let e=t.creditScoreOptions.gateway_url+"/"+t.creditScoreOptions.transaction_id+"?company_display_name="+t.creditScoreOptions.company_display_name+"&color_bg="+t.creditScoreOptions.color_bg+"&color_ft="+t.creditScoreOptions.color_ft+"&otp_mode="+t.creditScoreOptions.otp_mode+"&fp_mode="+t.creditScoreOptions.fp_mode+"&ir_mode="+t.creditScoreOptions.ir_mode+"&phone_auth="+t.creditScoreOptions.phone_auth+"&draggable_sign="+t.creditScoreOptions.draggable_sign+"&google_sign="+t.creditScoreOptions.google_sign+"&can_select_device="+t.creditScoreOptions.device_selection_allowed+"&email="+t.creditScoreOptions.customer_email+"&phone="+t.creditScoreOptions.customer_phone+"&logo_url="+t.creditScoreOptions.logo_url;window.document.getElementById("zoop-model-content").innerHTML='<iframe id="zoop-gateway-iframe" height="100%" width="100%" src="'+encodeURI(e)+'"></iframe>',t.options.zoopModel.style.display="block"},digiLocakerGatewayInit:function(o){return t.digiLockerOptions.company_display_name=o.company_display_name,t.digiLockerOptions.color_bg=t.check(o,"color_bg")?o.color_bg:t.digiLockerOptions.color_bg,t.digiLockerOptions.color_ft=t.check(o,"color_ft")?o.color_ft:t.digiLockerOptions.color_ft,t.digiLockerOptions.logo_url=t.check(o,"logo_url")?o.logo_url:t.digiLockerOptions.logo_url,t.options.zoopModel=window.document.getElementById("zoop-gateway-model"),!0},digiLocakerGateway:function(o){if(t.isNullUndefinedOrEmpty(o))throw new Error("Gateway Transaction Id is mandatory to initiate gateway.");if(t.digiLockerOptions.transaction_id=o,t.isNullUndefinedOrEmpty(t.digiLockerOptions.company_display_name))throw new Error("Company Display Name is mandatory in gateway options.");t.digiLockerOptions.gateway_url=t.options.url+"/gateway/digilocker";let e=t.digiLockerOptions.gateway_url+"/"+t.digiLockerOptions.transaction_id+"?company_display_name="+t.digiLockerOptions.company_display_name+"&color_bg="+t.digiLockerOptions.color_bg+"&color_ft="+t.digiLockerOptions.color_ft+"&otp_mode="+t.digiLockerOptions.otp_mode+"&fp_mode="+t.digiLockerOptions.fp_mode+"&ir_mode="+t.digiLockerOptions.ir_mode+"&phone_auth="+t.digiLockerOptions.phone_auth+"&draggable_sign="+t.digiLockerOptions.draggable_sign+"&google_sign="+t.digiLockerOptions.google_sign+"&can_select_device="+t.digiLockerOptions.device_selection_allowed+"&email="+t.digiLockerOptions.customer_email+"&phone="+t.digiLockerOptions.customer_phone+"&logo_url="+t.digiLockerOptions.logo_url;window.document.getElementById("zoop-model-content").innerHTML='<iframe id="zoop-gateway-iframe" height="100%" width="100%" src="'+encodeURI(e)+'"></iframe>',t.options.zoopModel.style.display="block"},offLineAadhaarGatewayInit:function(o){return t.offlineAadhaarOptions.company_display_name=o.company_display_name,t.offlineAadhaarOptions.color_bg=t.check(o,"color_bg")?o.color_bg:t.offlineAadhaarOptions.color_bg,t.offlineAadhaarOptions.color_ft=t.check(o,"color_ft")?o.color_ft:t.offlineAadhaarOptions.color_ft,t.offlineAadhaarOptions.logo_url=t.check(o,"logo_url")?o.logo_url:t.offlineAadhaarOptions.logo_url,t.offlineAadhaarOptions.customer_phone=t.check(o,"customer_phone")?o.customer_phone:t.offlineAadhaarOptions.customer_phone,t.offlineAadhaarOptions.customer_email=t.check(o,"customer_email")?o.customer_email:t.offlineAadhaarOptions.customer_email,t.options.zoopModel=window.document.getElementById("zoop-gateway-model"),!0},offLineAadhaarGateway:function(o){if(t.isNullUndefinedOrEmpty(o))throw new Error("Gateway Transaction Id is mandatory to initiate gateway.");if(t.offlineAadhaarOptions.transaction_id=o,t.isNullUndefinedOrEmpty(t.offlineAadhaarOptions.company_display_name))throw new Error("Company Display Name is mandatory in gateway options.");t.offlineAadhaarOptions.gateway_url=t.options.url+"/gateway/offline-aadhaar";let e=t.offlineAadhaarOptions.gateway_url+"/"+t.offlineAadhaarOptions.transaction_id+"?company_display_name="+t.offlineAadhaarOptions.company_display_name+"&color_bg="+t.offlineAadhaarOptions.color_bg+"&color_ft="+t.offlineAadhaarOptions.color_ft+"&otp_mode="+t.offlineAadhaarOptions.otp_mode+"&fp_mode="+t.offlineAadhaarOptions.fp_mode+"&ir_mode="+t.offlineAadhaarOptions.ir_mode+"&phone_auth="+t.offlineAadhaarOptions.phone_auth+"&draggable_sign="+t.offlineAadhaarOptions.draggable_sign+"&google_sign="+t.offlineAadhaarOptions.google_sign+"&can_select_device="+t.offlineAadhaarOptions.device_selection_allowed+"&email="+t.offlineAadhaarOptions.customer_email+"&phone="+t.offlineAadhaarOptions.customer_phone+"&logo_url="+t.offlineAadhaarOptions.logo_url;window.document.getElementById("zoop-model-content").innerHTML='<iframe id="zoop-gateway-iframe" height="100%" width="100%" src="'+encodeURI(e)+'"></iframe>',t.options.zoopModel.style.display="block"},initBsaGateway:function(o){t.bankStatementAnalysis={url:`${t.options.bsaURL}/?session_id=${o}&platform=web&sdk_v=2`}},openBsaGateway:function(){window.location=t.bankStatementAnalysis.url},initItdGateway:function(o={}){t.incomeTaxReturnsOptions.txt_color=t.check(o,"txt_color")?o.txt_color:t.incomeTaxReturnsOptions.txt_color,t.incomeTaxReturnsOptions.bg_color=t.check(o,"bg_color")?o.bg_color:t.incomeTaxReturnsOptions.bg_color,t.incomeTaxReturnsOptions.btn_color=t.check(o,"btn_color")?o.btn_color:t.incomeTaxReturnsOptions.btn_color,t.incomeTaxReturnsOptions.btn_txt_color=t.check(o,"btn_txt_color")?o.btn_txt_color:t.incomeTaxReturnsOptions.btn_txt_color,t.incomeTaxReturnsOptions.logo_url=t.check(o,"logo_url")?o.logo_url:t.incomeTaxReturnsOptions.logo_url},openItdGateway:function(o){if(t.isNullUndefinedOrEmpty(o))throw new Error("Gateway Transaction Id is mandatory to initiate gateway.");let e=`${t.options.itdURL}/?session_id=${o}&txt_color=${t.incomeTaxReturnsOptions.txt_color}&bg_color=${t.incomeTaxReturnsOptions.bg_color}&btn_color=${t.incomeTaxReturnsOptions.btn_color}&btn_txt_color=${t.incomeTaxReturnsOptions.btn_txt_color}&logo_url=${t.incomeTaxReturnsOptions.logo_url}&platform=${t.incomeTaxReturnsOptions.platform}&sdk_version=${t.incomeTaxReturnsOptions.sdk_version}`;window.document.getElementById("zoop-model-content").innerHTML='<iframe id="zoop-gateway-iframe" height="100%" width="100%" src="'+encodeURI(e)+'"></iframe>',t.options.zoopModel.style.display="block"}};const i={close:()=>{},"consent-denied":()=>{},"otp-error":()=>{},"gateway-error":()=>{},"esign-result":()=>{},"offline-aadhaar-success":()=>{},"offline-aadhaar-error":()=>{},"digilocker-submit-success":()=>{},"digilocker-submit-error":()=>{},"credit-score-result":()=>{},"itd-error":()=>{},"itd-consent-denied":()=>{},"itd-gateway-terminated":()=>{},"itd-success":()=>{}};t.on=function(o="",e=(()=>{})){if("string"!=typeof o)throw new Error("Event name must be a string.");if("function"!=typeof e)throw new Error("Callback must be a function.");Object.keys(i).includes(o)?i[o]=e:console.warn(`No event found named ${o}`)},t.emit=function(o,e){i[o](e)},t.dispatchEvent=function(o){let e;if(![t.options.url,t.options.production,t.options.staging,t.options.bsaURL,t.options.itdURL].includes(o.origin))return console.log("Message is not from Zoop Gateway");if(o.data&&(e=o.data,e.hasOwnProperty("action")))switch(e.action){case"close":case"consent-denied":case"otp-error":case"gateway-error":case"esign-result":case"offline-aadhaar-success":case"offline-aadhaar-error":case"digilocker-submit-success":case"digilocker-submit-error":case"credit-score-result":case"itd-error":case"itd-consent-denied":case"itd-gateway-terminated":case"itd-success":return e.payload="string"==typeof e.payload?JSON.parse(e.payload):e.payload,t.options.zoopModel.style.display="none",window.document.getElementById("zoop-model-content").innerHTML="",t.options.zoopWindow&&!t.options.zoopWindow.closed&&t.options.zoopWindow.close(),void t.emit(e.action,e);default:console.warn("Unsupported event: ",e.action)}},t.setStyles("zoop-gateway-model",e.zoopGateWayModel,"id"),t.setStyles("zoop-model-content",e.zoopModelContent,"id"),window.addEventListener("message",t.dispatchEvent,!1),window.zoop=t}()})();